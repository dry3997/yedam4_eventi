<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ko"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layouts/default_layout}">

<head>
<style>
#container {
	width: 20%;
	margin: 0 auto;
	min-height: 800px;
}

#container form {
	position: relative;
	margin-top: 100px;
	background: none;
}
</style>

</head>
<body>
	<div layout:fragment="content">
		<section class="hero-wrap hero-wrap-2"
			style="background-image: url(&quot;images/bg_2.jpg&quot;); background-position: 50% 0%;"
			data-stellar-background-ratio="0.5">
			<div class="overlay"></div>
			<div class="container">
				<div
					class="row no-gutters slider-text align-items-end justify-content-center">
					<div
						class="col-md-9 ftco-animate mb-5 text-center fadeInUp ftco-animated">
						<h2 class="mb-0 bread">아이디 찾기</h2>
					</div>
				</div>
			</div>
		</section>
		<div id="container">
			<form>
				이름<input type="text" class="form-control" name="name" id="name">
				이메일주z소<input type="text" class="form-control" name="userEmail"
					id="email"> <input th:name="${_csrf.parameterName}"
					type="hidden" th:value="${_csrf.token}" />
				<button id="findBtn" type="button">아이디찾기</button>
			</form>
		</div>

		<script>
		/* 아이디 찾기 */
		$("#findBtn").on('click', findId());
		
		function findId() {
			var name = $("#name").val(); 
			var email = $("#email").val();
			console.log(name);
			
			$.ajax({
				url:"/findId",
				type:"post",
				data:{
					name:name,
					email:email
				},
				datatype: 'json',
				beforeSend: function (xhr) {
					xhr.setRequestHeader(header, token);
				},
				success : function(result){
					if(result){
						alert("등록된 아이디는 "+result+"입니다.");
					}else{
						alert("등록된 정보가 없습니다.")
					}
				},
				error: function () {
					alert("서버 요청 실패");
				}
			})
		};
		
		</script>
	</div>
</body>
</html>